<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Lista de Produtos</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="corpo">
    <div class="container">
        <!-- Cabeçalho -->
        <header class="header">
            <h1>Lista de Produtos</h1>
        </header>
		<button class="btn btn-primary" onclick="abrirModalAdicionar()">Adicionar</button>
        <!-- Tabela de Produtos -->
		<table class="table custom-table">
		    <thead>
		        <tr>
		            <th>Ações</th>
		            <th>Id</th>
		            <th>Nome</th>
		            <th>Preço R$</th>
		            <th>Quantidade</th>
		            <th>Total</th>
		        </tr>
		    </thead>
            <tbody>
				<tr th:each="produto : ${produtos}">
				    <td>
				        <i class="fas fa-edit btn-edit" th:onclick="'editarProduto(' + ${produto.id} + ')'"></i>
				        <i class="fas fa-trash btn-delete" th:onclick="'deletarProduto(' + ${produto.id} + ')'"></i>
				    </td>
				    <td th:text="${produto.id}"></td>
				    <td th:text="${produto.nome}"></td>
				    <td th:text="${produto.preco}"></td>
				    <td th:text="${produto.quantidade}"></td>
				    <td th:text="${produto.preco * produto.quantidade}"></td>
				</tr>
            </tbody>
        </table>
    </div>

    <!-- Modal para Adicionar/Editar Produto (opcional) -->
	<!-- Modal para Adicionar Produto -->
	<div id="modalAdicionar" class="modal">
	    <div class="modal-content">
	        <span class="close" onclick="fecharModalAdicionar()">&times;</span>
	        <h2>Adicionar Produto</h2>
			<form id="formProduto">
				<input type="hidden" id="produtoId">
			    <div class="form-group">
			        <label for="nome">Nome:</label>
			        <input type="text" id="nome" name="nome" required>
			    </div>
			    <div class="form-group">
			        <label for="preco">Preço:</label>
			        <input type="number" id="preco" name="preco" step="0.01" required>
			    </div>
			    <div class="form-group">
			        <label for="quantidade">Quantidade:</label>
			        <input type="number" id="quantidade" name="quantidade" required>
			    </div>
			    <button type="submit" class="btn btn-primary">Salvar</button>
			</form>
	    </div>
	</div>

    <script th:src="@{/js/scripts.js}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>